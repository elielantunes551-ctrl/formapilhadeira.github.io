<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Checklist Empilhadeira - Garret Formação e Segurança</title>
<style>
body { font-family: Arial, sans-serif; background: #0d1f0d; color: #fff; margin: 0; padding: 20px; }
h2 { text-align: center; }
.container { max-width: 700px; margin: auto; background: #1f3b1f; padding: 20px; border-radius: 10px; }
input, button { width: 100%; padding: 10px; margin-top: 8px; border-radius: 6px; border: none; }
button { background: #198754; color: white; font-weight: bold; cursor: pointer; }
button:hover { background: #157347; }
.item { margin-bottom: 10px; padding: 10px; background: #2e4c2e; border-radius: 6px; }
label { display: block; margin-bottom: 6px; font-weight: bold; }
.btn-group button { width: 48%; margin-right: 2%; }
.btn-yes { background: #28a745; }
.btn-no { background: #dc3545; }
</style>
</head>
<body>

<div class="container">
  <h2>Checklist Diário - Empilhadeira</h2>
  <label>Nome do Operador:</label>
  <input id="operador" type="text" placeholder="Digite o nome do operador">

  <label>Número da Máquina:</label>
  <input id="maquina" type="text" placeholder="Digite o número da máquina">

  <div id="checklist"></div>
  <button onclick="gerarPDF()">Gerar PDF</button>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<script>
const { jsPDF } = window.jspdf;

const perguntas = [
  "Pontos de apoio estão OK?",
  "Partida com senha, está OK?",
  "Painel de instrumentos está OK?",
  "Sensor de banco está OK?",
  "Cinto de segurança está desligando ou impedindo aceleração?",
  "Buzina está OK?",
  "Limpador de para-brisas está OK?",
  "Para-brisa e teto estão OK?",
  "Retrovisores estão OK?",
  "Freios estão OK?",
  "Extintor (validade, lacre e carga) está OK?",
  "LEDs laterais estão OK?",
  "Blue Spot está OK?",
  "Lâmpadas dianteiras estão OK?",
  "Lâmpadas traseiras estão OK?",
  "Sirene de ré está OK?",
  "Ausência de vazamento de óleo?",
  "Mangueiras da torre estão OK?",
  "Garfo (trava e borracha de proteção) está OK?",
  "Pneus estão OK?",
  "Rodas (trincas e parafusos) estão OK?"
];

const respostas = {};

const checklistDiv = document.getElementById("checklist");

perguntas.forEach((p, i) => {
  const div = document.createElement("div");
  div.className = "item";
  div.innerHTML = `
    <label>${p}</label>
    <div class="btn-group">
      <button class="btn-yes" onclick="responder(${i}, 'Sim')">Sim</button>
      <button class="btn-no" onclick="responder(${i}, 'Não')">Não</button>
    </div>
  `;
  checklistDiv.appendChild(div);
});

function responder(indice, valor) {
  respostas[perguntas[indice]] = valor;
}

function gerarPDF() {
  const doc = new jsPDF();
  const operador = document.getElementById("operador").value;
  const maquina = document.getElementById("maquina").value;
  let y = 10;

  doc.setFontSize(14);
  doc.text("Checklist Diário - Empilhadeira", 10, y);
  y += 10;
  doc.setFontSize(12);
  doc.text(`Operador: ${operador}`, 10, y);
  y += 7;
  doc.text(`Número da Máquina: ${maquina}`, 10, y);
  y += 10;

  perguntas.forEach(p => {
    doc.text(`${p} - ${respostas[p] || 'Não respondido'}`, 10, y);
    y += 7;
    if (y > 270) { doc.addPage(); y = 10; }
  });

  doc.save(`Checklist_${operador || 'Operador'}.pdf`);
}
</script>

</body>
</html>
